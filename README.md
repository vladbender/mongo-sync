# Синхронизация и анонимизация документов в MongoDB

## Требования к MongoDB

Программа использует [changeStream](https://www.mongodb.com/docs/manual/changeStreams/) в MongoDB для получения событий об изменении документов. Поэтому MongoDB должна удовлетворять [требованиям для работы этой фичи](https://www.mongodb.com/docs/manual/changeStreams/#availability).

## Сборка и запуск

Используется Node.js версии v18.12.1

1. В файле `.env` указать строку подключения к MongoDB в параметре `DB_URI`
2. Установка зависимостей
```
npm i
```
3. Сборка
```bash
npm run build
```
4. Запуск в режиме синхронизации
```bash
npm run sync
```
5. В отдельном окне терминала можно запустить в режиме `--full-reindex`
```bash
npm run full-reindex
```
6. В отдельном окне терминала можно запустить генерацию фейковых документов
```
npm run app
```

Приложения генерации и синхронизации работают до тех пор, пока пользователь не пошлёт приложению `SIGINT` (ctrl-c).
